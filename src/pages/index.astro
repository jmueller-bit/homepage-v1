---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
import Section from '../components/Section.astro';
import Card from '../components/Card.astro';
import FeatureCard from '../components/FeatureCard.astro';
import { getNews } from '../lib/google-sheets';

const newsItems = await getNews();
const latestNews = newsItems.slice(0, 3);
---

<BaseLayout title="Home">
  <Hero
    title="Bildung mit <span class='hero-title-accent'>Herz</span> und <span class='hero-title-accent'>Verstand</span>"
    description="Das Astrid Lindgren Zentrum bietet eine reformpÃ¤dagogische Bildung fÃ¼r Kinder und Jugendliche von der Primaria bis zum Kolleg. Wir fÃ¶rdern individuelles Lernen in einer achtsamen Gemeinschaft."
    badge="â­ Neue Website-Struktur"
    primaryCta={{ label: "Ist unsere Schule passend?", href: "/eltern/interessiert" }}
    secondaryCta={{ label: "Unsere Schulstufen", href: "/schule/schulstufen" }}
  />

  <Section title="Bildung neu denken" variant="alt">
    <div class="grid grid-3">
      <Card 
        title="PÃ¤dagogisches Konzept" 
        description="Unsere Bildungsphilosophie basiert auf den GrundsÃ¤tzen der ReformpÃ¤dagogik: Individuelles Lernen, Projektarbeit und praxisnahe Bildung."
        href="/schule/konzept"
        variant="primary"
        imagePlaceholder="KONZEPT"
      />
      <Card 
        title="Schulstufen" 
        description="Von Primaria I bis zum Kolleg â€“ wir begleiten Kinder und Jugendliche auf ihrem gesamten Bildungsweg."
        href="/schule/schulstufen"
        variant="campus"
        imagePlaceholder="CAMPUS"
      />
      <Card 
        title="Tagesablauf" 
        description="Vom Ankommen bis zum gemeinsamen Abschluss â€“ wie wir den Schultag rhythmisch und bedÃ¼rfnisorientiert gestalten."
        href="/schule/tagesablauf"
        variant="purple"
        imagePlaceholder="TAGESABLAUF"
      />
    </div>
  </Section>

  <Section 
    title="Warum das ALZ?" 
    description="Mehr als nur eine Schule â€“ ein Ort des gemeinsamen Wachsens und Lernens."
  >
    <div class="grid grid-4">
      <FeatureCard 
        icon="ðŸ“š"
        title="Unsere Schule"
        description="PÃ¤dagogisches Konzept, Schulstufen & Tagesablauf entdecken."
        href="/schule"
      />
      <FeatureCard 
        icon="ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦"
        title="FÃ¼r Eltern"
        description="Anmeldung, Services & alle wichtigen Informationen."
        href="/eltern"
      />
      <FeatureCard 
        icon="ðŸŽ¨"
        title="Schulleben"
        description="Aktuelles, Projekte, Galerie & Veranstaltungen."
        href="/schulleben"
      />
      <FeatureCard 
        icon="ðŸ“ž"
        title="Kontakt"
        description="Kontaktformular, Anfahrt & Sprechzeiten."
        href="/kontakt"
      />
    </div>
  </Section>

  <Section 
    title="Aktuelles & News" 
    description="Bleiben Sie auf dem Laufenden Ã¼ber Projekte und Neuigkeiten vom Campus."
    variant="highlight"
    id="news"
  >
    <div class="grid grid-3">
      {latestNews.map((item) => (
        <Card 
          title={item.title}
          description={item.excerpt}
          href={`/schulleben/aktuelles`}
          ctaLabel="Beitrag lesen"
          imagePlaceholder={item.category || 'News'}
          variant="default"
        />
      ))}
    </div>
    <div class="text-center" style="margin-top: var(--space-10);">
      <a href="/schulleben/aktuelles" class="btn btn-outline">Alle News anzeigen</a>
    </div>
  </Section>
</BaseLayout>
