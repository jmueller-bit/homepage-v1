---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Section from '../../components/Section.astro';
import Card from '../../components/Card.astro';
import { getNews } from '../../lib/contentful';

const newsItems = await getNews();
---

<BaseLayout title="Aktuelles & News">
  <Section 
    title="Neues vom Campus" 
    description="Berichte und AnkÃ¼ndigungen aus unserem Schulalltag."
  >
    <div class="grid grid-3">
      {newsItems.map((item) => (
        <Card 
          title={item.title}
          description={item.excerpt}
          href={`/news/${item.slug}`}
          ctaLabel="Weiterlesen"
          image={item.image?.url}
          imagePlaceholder={item.category}
        />
      ))}
    </div>
  </Section>
</BaseLayout>
